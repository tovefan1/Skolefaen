<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Skolefaen</title>
<style>

  body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    color: #333;
    padding: 30px;
    text-align: center;
  }

  h1 { margin-bottom: 40px; }

  .subject {
    max-width: 600px;
    margin: 0 auto 40px;
    background: #fff;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }

  .timer {
    font-size: 2em;
    font-weight: bold;
    color: #0077cc;
    margin-bottom: 15px;
  }

  .progress-container {
    width: 100%;
    background: #ddd;
    border-radius: 20px;
    overflow: hidden;
    height: 18px;
  }

  .progress-bar {
    height: 100%;
    width: 0%;
    background: #0077cc;
    transition: width 0.5s;
  }
</style>
</head>
<body>

<h1>Skolefaen</h1>

<div class="subject">
  <h2>Mattefaen</h2>
  <div class="timer" id="mathTimer">Laster...</div>
  <div class="progress-container">
    <div class="progress-bar" id="mathProgress"></div>
  </div>
</div>

<div class="subject">
  <h2>Engelskhælvete</h2>
  <div class="timer" id="englishTimer">Laster...</div>
  <div class="progress-container">
    <div class="progress-bar" id="englishProgress"></div>
  </div>
</div>

<div class="subject">
  <h2>Narkisnorsk</h2>
  <div class="timer" id="norwegianTimer">Laster…</div>
  <div class="progress-container">
    <div class="progress-bar" id="norwegianProgress"></div>
  </div>
</div>

<div class="subject">
  <h2>Tilvalgsdrit</h2>
  <div class="timer" id="languageTimer">Laster…</div>
  <div class="progress-container">
    <div class="progress-bar" id="languageProgress"></div>
  </div>
</div>

<div class="subject">
  <h2>KøddRLE</h2>
  <div class="timer" id="krleTimer">Laster…</div>
  <div class="progress-container">
    <div class="progress-bar" id="krleProgress"></div>
  </div>
</div>

  <div class="subject">
  <h2>Kroppsdøding</h2>
  <div class="timer" id="peTimer">Laster…</div>
  <div class="progress-container">
    <div class="progress-bar" id="peProgress"></div>
  </div>
</div>

  <div class="subject">
  <h2>Verstefag</h2>
  <div class="timer" id="valgfagTimer">Laster…</div>
  <div class="progress-container">
    <div class="progress-bar" id="valgfagProgress"></div>
  </div>
</div>

  <div class="subject">
  <h2>Knut og Hitlerverk</h2>
  <div class="timer" id="kuhTimer">Laster…</div>
  <div class="progress-container">
    <div class="progress-bar" id="kuhProgress"></div>
  </div>
</div>


<script>
// =====================
// FELLES HJELPEFUNKSJONER
// =====================
function parseDate(d, t) {
  const [day, month, year] = d.split(".").map(Number);
  const [h, m] = t.split(":").map(Number);
  return new Date(2000 + year, month - 1, day, h, m);
}

function buildPeriods(dates, schedule) {
  let periods = [];
  dates.forEach(c => {
    const s = schedule[c.day];
    if (!s) return;

    let start = parseDate(c.date, s.start);
    let end = parseDate(c.date, s.end);

    if (s.recessStart) {
      periods.push({ start, end: parseDate(c.date, s.recessStart) });
      periods.push({ start: parseDate(c.date, s.recessEnd), end });
    } else {
      periods.push({ start, end });
    }
  });
  return periods;
}

function remainingSeconds(periods) {
  const now = new Date();
  return periods.reduce((a,p)=>{
    if (now < p.start) return a + (p.end - p.start)/1000;
    if (now < p.end) return a + (p.end - now)/1000;
    return a;
  },0);
}

function totalSeconds(periods) {
  return periods.reduce((a,p)=>a+(p.end-p.start)/1000,0);
}

// =====================
// MATTE
// =====================
const mathDates = [
  { date:"09.02.26", day:"Mandag" }, { date:"10.02.26", day:"Tirsdag" },
  { date:"12.02.26", day:"Torsdag" }, { date:"23.02.26", day:"Mandag" },
  { date:"24.02.26", day:"Tirsdag" }, { date:"26.02.26", day:"Torsdag" },
  { date:"02.03.26", day:"Mandag" }, { date:"03.03.26", day:"Tirsdag" },
  { date:"05.03.26", day:"Torsdag" }, { date:"09.03.26", day:"Mandag" },
  { date:"10.03.26", day:"Tirsdag" }, { date:"12.03.26", day:"Torsdag" },
  { date:"16.03.26", day:"Mandag" }, { date:"17.03.26", day:"Tirsdag" },
  { date:"19.03.26", day:"Torsdag" }, { date:"26.03.26", day:"Torsdag" },
  { date:"07.04.26", day:"Tirsdag" }, { date:"09.04.26", day:"Torsdag" },
  { date:"13.04.26", day:"Mandag" }, { date:"14.04.26", day:"Tirsdag" },
  { date:"16.04.26", day:"Torsdag" }, { date:"20.04.26", day:"Mandag" },
  { date:"21.04.26", day:"Tirsdag" }, { date:"23.04.26", day:"Torsdag" },
  { date:"27.04.26", day:"Mandag" }, { date:"28.04.26", day:"Tirsdag" },
  { date:"30.04.26", day:"Torsdag" }, { date:"04.05.26", day:"Mandag" },
  { date:"05.05.26", day:"Tirsdag" }, { date:"07.05.26", day:"Torsdag" },
  { date:"11.05.26", day:"Mandag" }, { date:"12.05.26", day:"Tirsdag" },
  { date:"18.05.26", day:"Mandag" }, { date:"19.05.26", day:"Tirsdag" },
  { date:"28.05.26", day:"Torsdag" }, { date:"01.06.26", day:"Mandag" },
  { date:"02.06.26", day:"Tirsdag" }, { date:"08.06.26", day:"Mandag" },
  { date:"09.06.26", day:"Tirsdag" }, { date:"11.06.26", day:"Torsdag" },
  { date:"15.06.26", day:"Mandag" }, { date:"16.06.26", day:"Tirsdag" }
];

const mathSchedule = {
  "Mandag": { start:"08:30", end:"09:15" },
  "Tirsdag": { start:"10:15", end:"11:00" },
  "Torsdag": { start:"12:15", end:"14:00", recessStart:"13:00", recessEnd:"13:15" }
};

const mathPeriods = buildPeriods(mathDates, mathSchedule);
const mathTotal = totalSeconds(mathPeriods);

// =====================
// ENGELSK
// =====================
const englishDates = [
  {date:"11.02.26",day:"Onsdag"},{date:"12.02.26",day:"Torsdag"},
  {date:"25.02.26",day:"Onsdag"},{date:"26.02.26",day:"Torsdag"},
  {date:"04.03.26",day:"Onsdag"},{date:"05.03.26",day:"Torsdag"},
  {date:"11.03.26",day:"Onsdag"},{date:"12.03.26",day:"Torsdag"},
  {date:"18.03.26",day:"Onsdag"},{date:"19.03.26",day:"Torsdag"},
  {date:"25.03.26",day:"Onsdag"},{date:"26.03.26",day:"Torsdag"},
  {date:"08.04.26",day:"Onsdag"},{date:"09.04.26",day:"Torsdag"},
  {date:"15.04.26",day:"Onsdag"},{date:"16.04.26",day:"Torsdag"},
  {date:"22.04.26",day:"Onsdag"},{date:"23.04.26",day:"Torsdag"},
  {date:"29.04.26",day:"Onsdag"},{date:"30.04.26",day:"Torsdag"},
  {date:"06.05.26",day:"Onsdag"},{date:"07.05.26",day:"Torsdag"},
  {date:"13.05.26",day:"Onsdag"},
  {date:"27.05.26",day:"Onsdag"},{date:"28.05.26",day:"Torsdag"},
  {date:"03.06.26",day:"Onsdag"},
  {date:"10.06.26",day:"Onsdag"},{date:"11.06.26",day:"Torsdag"},
  {date:"17.06.26",day:"Onsdag"}
];

const englishSchedule = {
  "Onsdag": { start:"08:30", end:"10:00" },
  "Torsdag": { start:"11:30", end:"12:15" }
};

const englishPeriods = buildPeriods(englishDates, englishSchedule);
const englishTotal = totalSeconds(englishPeriods);

// =====================
// OPPDATER
// =====================
function tick() {
  const mr = remainingSeconds(mathPeriods);
  document.getElementById("mathTimer").textContent =
    `${Math.floor(mr/3600)}t ${Math.floor(mr%3600/60)}m ${Math.floor(mr%60)}s`;
  document.getElementById("mathProgress").style.width =
    `${((mathTotal-mr)/mathTotal)*100}%`;

  const er = remainingSeconds(englishPeriods);
  document.getElementById("englishTimer").textContent =
    `${Math.floor(er/3600)}t ${Math.floor(er%3600/60)}m ${Math.floor(er%60)}s`;
  document.getElementById("englishProgress").style.width =
    `${((englishTotal-er)/englishTotal)*100}%`;
}

setInterval(tick, 1000);
tick();
</script>

<script>
// =====================
// NORSK – DATOER 2026
// =====================

const norwegianDates = [
 "10.02.26","12.02.26","13.02.26","24.02.26","26.02.26","27.02.26",
 "03.03.26","05.03.26","06.03.26","10.03.26","12.03.26","13.03.26",
 "17.03.26","19.03.26","20.03.26","26.03.26","27.03.26",
 "07.04.26","09.04.26","10.04.26","14.04.26","16.04.26","17.04.26",
 "21.04.26","23.04.26","24.04.26","28.04.26","30.04.26",
 "05.05.26","07.05.26","08.05.26","12.05.26","15.05.26","19.05.26",
 "28.05.26","29.05.26","02.06.26","05.06.26","09.06.26",
 "11.06.26","12.06.26","16.06.26"
];

// =====================
// BYGG NORSK-TIMER
// =====================

let norwegianPeriods = [];

norwegianDates.forEach(date => {
  const d = parseDate(date, "00:00");
  const day = d.getDay(); // 2=Tir, 4=Tor, 5=Fre

  // TIRSDAG – to økter med pause
  if (day === 2) {
    norwegianPeriods.push(
      { start: parseDate(date,"12:15"), end: parseDate(date,"13:00") },
      { start: parseDate(date,"13:15"), end: parseDate(date,"14:00") }
    );
  }

  // TORSDAG
  if (day === 4) {
    norwegianPeriods.push({
      start: parseDate(date,"08:30"),
      end: parseDate(date,"10:00")
    });
  }

  // FREDAG
  if (day === 5) {
    norwegianPeriods.push({
      start: parseDate(date,"08:30"),
      end: parseDate(date,"09:15")
    });
  }
});

// =====================
// TOTAL & GJENSTÅENDE
// =====================

const norwegianTotalSeconds = norwegianPeriods.reduce(
  (a,p)=>a+(p.end-p.start)/1000,0
);

function norwegianRemainingSeconds() {
  const now = new Date();
  return norwegianPeriods.reduce((a,p)=>{
    if (now < p.start) return a + (p.end-p.start)/1000;
    if (now < p.end) return a + (p.end-now)/1000;
    return a;
  },0);
}

// =====================
// OPPDATER UI
// =====================

function updateNorwegian() {
  const rem = norwegianRemainingSeconds();
  const done = norwegianTotalSeconds - rem;

  const h = Math.floor(rem/3600);
  const m = Math.floor((rem%3600)/60);
  const s = Math.floor(rem%60);

  document.getElementById("norwegianTimer").textContent =
    `${h}t ${m}m ${s}s`;

  document.getElementById("norwegianProgress").style.width =
    `${(done/norwegianTotalSeconds)*100}%`;
}

setInterval(updateNorwegian, 1000);
updateNorwegian();
</script>

<script>
// =====================
// TILVALGSFAG – DATOER
// =====================

const languageDates = [
 "10.02.26","13.02.26","24.02.26","27.02.26","03.03.26","06.03.26",
 "10.03.26","13.03.26","17.03.26","20.03.26","27.03.26",
 "07.04.26","10.04.26","14.04.26","17.04.26","21.04.26","24.04.26",
 "28.04.26","05.05.26","08.05.26","12.05.26","15.05.26","19.05.26",
 "29.05.26","02.06.26","05.06.26","09.06.26","12.06.26","16.06.26"
];

// =====================
// BYGG TILVALGSFAG-TIMER
// =====================

let languagePeriods = [];

languageDates.forEach(date => {
  const d = parseDate(date, "00:00");
  const day = d.getDay(); // 2=Tir, 5=Fre

  // TIRSDAG
  if (day === 2) {
    languagePeriods.push({
      start: parseDate(date,"08:30"),
      end: parseDate(date,"10:00")
    });
  }

  // FREDAG
  if (day === 5) {
    languagePeriods.push({
      start: parseDate(date,"10:15"),
      end: parseDate(date,"11:00")
    });
  }
});

// =====================
// TOTAL & GJENSTÅENDE
// =====================

const languageTotalSeconds = languagePeriods.reduce(
  (a,p)=>a+(p.end-p.start)/1000,0
);

function languageRemainingSeconds() {
  const now = new Date();
  return languagePeriods.reduce((a,p)=>{
    if (now < p.start) return a + (p.end-p.start)/1000;
    if (now < p.end) return a + (p.end-now)/1000;
    return a;
  },0);
}

// =====================
// OPPDATER UI
// =====================

function updateLanguage() {
  const rem = languageRemainingSeconds();
  const done = languageTotalSeconds - rem;

  const h = Math.floor(rem/3600);
  const m = Math.floor((rem%3600)/60);
  const s = Math.floor(rem%60);

  document.getElementById("languageTimer").textContent =
    `${h}t ${m}m ${s}s`;

  document.getElementById("languageProgress").style.width =
    `${(done/languageTotalSeconds)*100}%`;
}

setInterval(updateLanguage, 1000);
updateLanguage();
</script>

<script>
// =====================
// KRLE – DATOER
// =====================

const krleDates = [
 "11.02.26","23.02.26","25.02.26","02.03.26","04.03.26",
 "09.03.26","11.03.26","16.03.26","18.03.26","23.03.26",
 "25.03.26","08.04.26","13.04.26","15.04.26","20.04.26",
 "22.04.26","27.04.26","29.04.26","04.05.26","06.05.26",
 "11.05.26","13.05.26","18.05.26","27.05.26","01.06.26",
 "03.06.26","08.06.26","10.06.26","15.06.26","17.06.26"
];

// =====================
// BYGG KRLE-TIMER
// =====================

let krlePeriods = [];

krleDates.forEach(date => {
  const d = parseDate(date, "00:00");
  const day = d.getDay(); // 1=Man, 3=Ons

  if (day === 1 || day === 3) {
    krlePeriods.push({
      start: parseDate(date,"10:15"),
      end: parseDate(date,"11:00")
    });
  }
});

// =====================
// TOTAL & GJENSTÅENDE
// =====================

const krleTotalSeconds = krlePeriods.reduce(
  (a,p)=>a+(p.end-p.start)/1000,0
);

function krleRemainingSeconds() {
  const now = new Date();
  return krlePeriods.reduce((a,p)=>{
    if (now < p.start) return a + (p.end-p.start)/1000;
    if (now < p.end) return a + (p.end-now)/1000;
    return a;
  },0);
}

// =====================
// OPPDATER UI
// =====================

function updateKrle() {
  const rem = krleRemainingSeconds();
  const done = krleTotalSeconds - rem;

  const h = Math.floor(rem/3600);
  const m = Math.floor((rem%3600)/60);
  const s = Math.floor(rem%60);

  document.getElementById("krleTimer").textContent =
    `${h}t ${m}m ${s}s`;

  document.getElementById("krleProgress").style.width =
    `${(done/krleTotalSeconds)*100}%`;
}

setInterval(updateKrle, 1000);
updateKrle();
</script>

  <script>
// =====================
// PE – DATOER
// =====================

const peDates = [
 "11.02.26","25.02.26","04.03.26","11.03.26","18.03.26","25.03.26",
 "08.04.26","15.04.26","22.04.26","29.04.26",
 "06.05.26","13.05.26","27.05.26",
 "03.06.26","10.06.26","17.06.26"
];

// =====================
// BYGG PE-TIMER
// =====================

let pePeriods = [];

peDates.forEach(date => {
  const d = parseDate(date, "00:00");
  const day = d.getDay(); // 3 = Onsdag

  if (day === 3) {
    pePeriods.push({
      start: parseDate(date,"11:30"),
      end: parseDate(date,"13:00")
    });
  }
});

// =====================
// TOTAL & GJENSTÅENDE
// =====================

const peTotalSeconds = pePeriods.reduce(
  (a,p)=>a+(p.end-p.start)/1000,0
);

function peRemainingSeconds() {
  const now = new Date();
  return pePeriods.reduce((a,p)=>{
    if (now < p.start) return a + (p.end-p.start)/1000;
    if (now < p.end) return a + (p.end-now)/1000;
    return a;
  },0);
}

// =====================
// OPPDATER UI
// =====================

function updatePe() {
  const rem = peRemainingSeconds();
  const done = peTotalSeconds - rem;

  const h = Math.floor(rem/3600);
  const m = Math.floor((rem%3600)/60);
  const s = Math.floor(rem%60);

  document.getElementById("peTimer").textContent =
    `${h}t ${m}m ${s}s`;

  document.getElementById("peProgress").style.width =
    `${(done/peTotalSeconds)*100}%`;
}

setInterval(updatePe, 1000);
updatePe();
</script>

  <script>
// =====================
// VALGFAG – DATOER
// =====================

const valgfagDates = [
 "13.02.26","27.02.26","06.03.26","13.03.26","20.03.26","27.03.26",
 "10.04.26","17.04.26","24.04.26",
 "08.05.26","15.05.26","29.05.26",
 "05.06.26","12.06.26"
];

// =====================
// BYGG VALGFAG-TIMER
// =====================

let valgfagPeriods = [];

valgfagDates.forEach(date => {
  const d = parseDate(date, "00:00");
  const day = d.getDay(); // 5 = Fredag

  if (day === 5) {
    valgfagPeriods.push(
      { start: parseDate(date,"12:15"), end: parseDate(date,"13:00") },
      { start: parseDate(date,"13:15"), end: parseDate(date,"14:00") }
    );
  }
});

// =====================
// TOTAL & GJENSTÅENDE
// =====================

const valgfagTotalSeconds = valgfagPeriods.reduce(
  (a,p)=>a+(p.end-p.start)/1000,0
);

function valgfagRemainingSeconds() {
  const now = new Date();
  return valgfagPeriods.reduce((a,p)=>{
    if (now < p.start) return a + (p.end-p.start)/1000;
    if (now < p.end) return a + (p.end-now)/1000;
    return a;
  },0);
}

// =====================
// OPPDATER UI
// =====================

function updateValgfag() {
  const rem = valgfagRemainingSeconds();
  const done = valgfagTotalSeconds - rem;

  const h = Math.floor(rem/3600);
  const m = Math.floor((rem%3600)/60);
  const s = Math.floor(rem%60);

  document.getElementById("valgfagTimer").textContent =
    `${h}t ${m}m ${s}s`;

  document.getElementById("valgfagProgress").style.width =
    `${(done/valgfagTotalSeconds)*100}%`;
}

setInterval(updateValgfag, 1000);
updateValgfag();
</script>

  <script>
// =====================
// KUH – DATOER
// =====================

const kuhDates = [
 "23.02.26","02.03.26","09.03.26","23.03.26",
 "13.04.26","20.04.26","27.04.26",
 "04.05.26","11.05.26","18.05.26",
 "01.06.26","08.06.26","15.06.26"
];

// =====================
// BYGG KUH-TIMER
// =====================

let kuhPeriods = [];

kuhDates.forEach(date => {
  const d = parseDate(date, "00:00");
  const day = d.getDay(); // 1 = Mandag

  if (day === 1) {
    kuhPeriods.push(
      { start: parseDate(date,"11:30"), end: parseDate(date,"13:00") },
      { start: parseDate(date,"13:15"), end: parseDate(date,"14:00") }
    );
  }
});

// =====================
// TOTAL & GJENSTÅENDE
// =====================

const kuhTotalSeconds = kuhPeriods.reduce(
  (a,p)=>a+(p.end-p.start)/1000,0
);

function kuhRemainingSeconds() {
  const now = new Date();
  return kuhPeriods.reduce((a,p)=>{
    if (now < p.start) return a + (p.end-p.start)/1000;
    if (now < p.end) return a + (p.end-now)/1000;
    return a;
  },0);
}

// =====================
// OPPDATER UI
// =====================

function updateKuH() {
  const rem = kuhRemainingSeconds();
  const done = kuhTotalSeconds - rem;

  const h = Math.floor(rem/3600);
  const m = Math.floor((rem%3600)/60);
  const s = Math.floor(rem%60);

  document.getElementById("kuhTimer").textContent =
    `${h}t ${m}m ${s}s`;

  document.getElementById("kuhProgress").style.width =
    `${(done/kuhTotalSeconds)*100}%`;
}

setInterval(updateKuH, 1000);
updateKuH();
</script>

</body>
</html>
